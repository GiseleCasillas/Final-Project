{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import menuData from\".././db.json\";import\"./../MenuItemImage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MenuItemImage=()=>{const{id}=useParams();const[menuItem,setMenuItem]=useState([]);const[focusedItem,setFocusedItem]=useState(null);const[isBookmarked,setIsBookmarked]=useState(false);useEffect(()=>{setMenuItem(menuData.coffeeItems);},[]);useEffect(()=>{const item=menuItem.find(item=>item.id==id);setFocusedItem(item);document.title=\"\".concat(item?item.name:\"Loading\",\" - The Little Corner Cafe\");},[id,menuItem]);const handleBookmarkClick=async()=>{const updatedMenuData=[...menuItem];const index=updatedMenuData.findIndex(item=>item.id===focusedItem.id);// Simulating an AJAX request to update the item\nconst updatedItem={...focusedItem,isBookmarked:!isBookmarked};updatedMenuData[index]=updatedItem;setMenuItem(updatedMenuData);// Simulating a PATCH request to update the db.json file\nawait fetch(\"/api/coffeeItems/\".concat(focusedItem.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(updatedItem)});setIsBookmarked(!isBookmarked);};const handleDeleteClick=async()=>{// Simulating an AJAX request to remove the item\nconst updatedMenuData=menuItem.filter(item=>item.id!==focusedItem.id);setMenuItem(updatedMenuData);// Simulating a DELETE request to update the db.json file\nawait fetch(\"/api/coffeeItems/\".concat(focusedItem.id),{method:\"DELETE\"});// Handle navigation or UI updates as needed\n};if(!focusedItem){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"menu-item-details\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:focusedItem.name}),/*#__PURE__*/_jsx(\"img\",{src:focusedItem.image,alt:focusedItem.name}),/*#__PURE__*/_jsx(\"p\",{})]})});};export default MenuItemImage;","map":{"version":3,"names":["React","useState","useEffect","useParams","menuData","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MenuItemImage","id","menuItem","setMenuItem","focusedItem","setFocusedItem","isBookmarked","setIsBookmarked","coffeeItems","item","find","document","title","concat","name","handleBookmarkClick","updatedMenuData","index","findIndex","updatedItem","fetch","method","headers","body","JSON","stringify","handleDeleteClick","filter","children","className","src","image","alt"],"sources":["/Users/giselecasillas/my-app-v2/src/pages/MenuItemImage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport menuData from \".././db.json\";\nimport \"./../MenuItemImage.css\";\n\nconst MenuItemImage = () => {\n  const { id } = useParams();\n  const [menuItem, setMenuItem] = useState([]);\n  const [focusedItem, setFocusedItem] = useState(null);\n  const [isBookmarked, setIsBookmarked] = useState(false);\n\n  useEffect(() => {\n    setMenuItem(menuData.coffeeItems);\n  }, []);\n\n  useEffect(() => {\n    const item = menuItem.find((item) => item.id == id);\n    setFocusedItem(item);\n    document.title = `${item ? item.name : \"Loading\"} - The Little Corner Cafe`;\n  }, [id, menuItem]);\n\n  const handleBookmarkClick = async () => {\n    const updatedMenuData = [...menuItem];\n    const index = updatedMenuData.findIndex(\n      (item) => item.id === focusedItem.id,\n    );\n\n    // Simulating an AJAX request to update the item\n    const updatedItem = { ...focusedItem, isBookmarked: !isBookmarked };\n    updatedMenuData[index] = updatedItem;\n\n    setMenuItem(updatedMenuData);\n\n    // Simulating a PATCH request to update the db.json file\n    await fetch(`/api/coffeeItems/${focusedItem.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(updatedItem),\n    });\n\n    setIsBookmarked(!isBookmarked);\n  };\n\n  const handleDeleteClick = async () => {\n    // Simulating an AJAX request to remove the item\n    const updatedMenuData = menuItem.filter(\n      (item) => item.id !== focusedItem.id,\n    );\n    setMenuItem(updatedMenuData);\n\n    // Simulating a DELETE request to update the db.json file\n    await fetch(`/api/coffeeItems/${focusedItem.id}`, {\n      method: \"DELETE\",\n    });\n\n    // Handle navigation or UI updates as needed\n  };\n\n  if (!focusedItem) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className=\"menu-item-details\">\n      <>\n        <h2>{focusedItem.name}</h2>\n        <img src={focusedItem.image} alt={focusedItem.name} />\n        <p></p>\n        {/* <button onClick={handleBookmarkClick}>\n          {isBookmarked ? \"Remove from Favorites\" : \"Add to Favorites\"}\n        </button> */}\n      </>\n    </div>\n  );\n};\n\nexport default MenuItemImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}