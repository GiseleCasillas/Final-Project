{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import ReviewBox from\"./ReviewBox\";import ReviewForm from\"./ReviewForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewPage=()=>{const[reviews,setReviews]=useState([]);const[newReview,setNewReview]=useState({author:\"\",rating:0,content:\"\"});useEffect(()=>{loadReviews();},[]);//   // GET request to fetch all reviews\n//   const loadReviews = () => {\n//     axios\n//       .get(\"/reviews\")\n//       .then((response) => {\n//         setReviews(response.data);\n//       })\n//       .catch((error) => {\n//         console.error(`Error fetching reviews: ${error.message}`);\n//       });\n//   };\nconst loadReviews=async()=>{try{// Assuming the reviews array is directly available in db.json\nconst response=await axios.get(\"/db.json\");setReviews(response.data.reviews);}catch(error){console.error(\"Error fetching reviews: \".concat(error.message));}};// POST request to create a new review\nconst addReview=()=>{axios.post(\"/reviews\",newReview).then(response=>{setReviews([...reviews,response.data]);setNewReview({author:\"\",rating:0,content:\"\"});}).catch(error=>{console.error(\"Error adding review: \".concat(error.message));});};// PUT request to update a specific review by ID\nconst updateReview=(id,updatedReview)=>{axios.put(\"/reviews/\".concat(id),updatedReview).then(response=>{setReviews(reviews.map(review=>review.id===id?response.data:review));}).catch(error=>{console.error(\"Error updating review: \".concat(error.message));});};// DELETE request to delete a specific review by ID\nconst deleteReview=id=>{axios.delete(\"/reviews/\".concat(id)).then(()=>{setReviews(reviews.filter(review=>review.id!==id));}).catch(error=>{console.error(\"Error deleting review: \".concat(error.message));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"ul\",{children:reviews.map(review=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(ReviewBox,{author:review.author,rating:review.rating,content:review.content}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateReview(review.id,{content:\"Updated Content\"}),children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteReview(review.id),children:\"Delete\"})]},review.id))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a Review\"}),/*#__PURE__*/_jsx(ReviewForm,{addReview:addReview})]})]});};export default ReviewPage;","map":{"version":3,"names":["React","useState","useEffect","axios","ReviewBox","ReviewForm","jsx","_jsx","jsxs","_jsxs","ReviewPage","reviews","setReviews","newReview","setNewReview","author","rating","content","loadReviews","response","get","data","error","console","concat","message","addReview","post","then","catch","updateReview","id","updatedReview","put","map","review","deleteReview","delete","filter","children","onClick"],"sources":["/Users/giselecasillas/my-app-v2/src/pages/ReviewPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ReviewBox from \"./ReviewBox\";\nimport ReviewForm from \"./ReviewForm\";\n\nconst ReviewPage = () => {\n  const [reviews, setReviews] = useState([]);\n  const [newReview, setNewReview] = useState({\n    author: \"\",\n    rating: 0,\n    content: \"\",\n  });\n\n  useEffect(() => {\n    loadReviews();\n  }, []);\n\n  //   // GET request to fetch all reviews\n  //   const loadReviews = () => {\n  //     axios\n  //       .get(\"/reviews\")\n  //       .then((response) => {\n  //         setReviews(response.data);\n  //       })\n  //       .catch((error) => {\n  //         console.error(`Error fetching reviews: ${error.message}`);\n  //       });\n  //   };\n\n  const loadReviews = async () => {\n    try {\n      // Assuming the reviews array is directly available in db.json\n      const response = await axios.get(\"/db.json\");\n      setReviews(response.data.reviews);\n    } catch (error) {\n      console.error(`Error fetching reviews: ${error.message}`);\n    }\n  };\n\n  // POST request to create a new review\n  const addReview = () => {\n    axios\n      .post(\"/reviews\", newReview)\n      .then((response) => {\n        setReviews([...reviews, response.data]);\n        setNewReview({\n          author: \"\",\n          rating: 0,\n          content: \"\",\n        });\n      })\n      .catch((error) => {\n        console.error(`Error adding review: ${error.message}`);\n      });\n  };\n\n  // PUT request to update a specific review by ID\n  const updateReview = (id, updatedReview) => {\n    axios\n      .put(`/reviews/${id}`, updatedReview)\n      .then((response) => {\n        setReviews(\n          reviews.map((review) => (review.id === id ? response.data : review)),\n        );\n      })\n      .catch((error) => {\n        console.error(`Error updating review: ${error.message}`);\n      });\n  };\n\n  // DELETE request to delete a specific review by ID\n  const deleteReview = (id) => {\n    axios\n      .delete(`/reviews/${id}`)\n      .then(() => {\n        setReviews(reviews.filter((review) => review.id !== id));\n      })\n      .catch((error) => {\n        console.error(`Error deleting review: ${error.message}`);\n      });\n  };\n\n  return (\n    <div>\n      <h1>Reviews</h1>\n      <ul>\n        {reviews.map((review) => (\n          <li key={review.id}>\n            <ReviewBox\n              author={review.author}\n              rating={review.rating}\n              content={review.content}\n            />\n\n            {/* Button to update a review */}\n            <button\n              onClick={() =>\n                updateReview(review.id, { content: \"Updated Content\" })\n              }\n            >\n              Update\n            </button>\n\n            {/* Button to delete a review */}\n            <button onClick={() => deleteReview(review.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n      {/* Form to add a new review */}\n      <div>\n        <h2>Add a Review</h2>\n        <ReviewForm addReview={addReview} />\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}